<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeartSense AI | Prediction</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fffcfc]">
    <nav class="navbar">
        <a href="index.html" class="nav-brand">
            <div class="heartbeat text-primary text-2xl">‚ù§Ô∏è</div>
            <span class="font-bold tracking-tight">HeartSense AI</span>
        </a>
        <button class="menu-toggle" aria-label="Toggle Navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="model.html">Model Transparency</a>
            <a href="analytics.html">Analytics</a>
            <a href="predict.html" class="active">Prediction</a>
            <a href="guidance.html">Health Guidance</a>
            <a href="caution.html">Caution</a>
        </div>
    </nav>

    <main class="main-content flex flex-col lg:flex-row gap-10">
        <!-- Sidebar Form: All Dataset Features -->
        <aside class="w-full lg:w-[360px] flex-shrink-0">
            <div class="card bg-white border-pink-100 shadow-md sticky top-24">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold">Clinical Record</h3>
                </div>

                <form id="prediction-form" class="space-y-5">
                    <!-- Features exactly matching CVD dataset -->
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Age (Years)</label>
                            <input type="number" name="age" required
                                class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm" placeholder="45">
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Gender</label>
                            <select name="gender" class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm">
                                <option value="1">Female</option>
                                <option value="2">Male</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Height (cm)</label>
                            <input type="number" name="height" required
                                class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm" placeholder="175">
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Weight (kg)</label>
                            <input type="number" name="weight" step="0.1" required
                                class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm" placeholder="70">
                        </div>
                    </div>

                    <div class="p-4 bg-red-50/50 rounded-2xl border border-red-100/50 space-y-4">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-[10px] font-bold uppercase text-red-400">Blood Pressure</span>
                            <span class="text-[10px] text-gray-400 italic">Highly Critical</span>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-[9px] font-bold uppercase text-gray-500 mb-1">Systolic
                                    (ap_hi)</label>
                                <input type="number" name="ap_hi" required
                                    class="w-full p-2.5 bg-white rounded-xl border-none text-sm shadow-sm"
                                    placeholder="120">
                            </div>
                            <div>
                                <label class="block text-[9px] font-bold uppercase text-gray-500 mb-1">Diastolic
                                    (ap_lo)</label>
                                <input type="number" name="ap_lo" required
                                    class="w-full p-2.5 bg-white rounded-xl border-none text-sm shadow-sm"
                                    placeholder="80">
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Cholesterol</label>
                            <select name="cholesterol" class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm">
                                <option value="1">Normal</option>
                                <option value="2">Above Normal</option>
                                <option value="3">Well Above Normal</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Glucose</label>
                            <select name="gluc" class="w-full p-2.5 bg-gray-50 rounded-xl border-none text-sm">
                                <option value="1">Normal</option>
                                <option value="2">Above Normal</option>
                                <option value="3">Well Above Normal</option>
                            </select>
                        </div>
                    </div>

                    <div class="space-y-3 pt-2">
                        <label
                            class="flex items-center gap-3 p-3 rounded-xl hover:bg-red-50 transition-colors cursor-pointer border border-transparent hover:border-red-100">
                            <input type="checkbox" name="smoke" class="w-4 h-4 rounded text-primary">
                            <span class="text-sm font-medium text-gray-700">Daily Smoking</span>
                        </label>
                        <label
                            class="flex items-center gap-3 p-3 rounded-xl hover:bg-red-50 transition-colors cursor-pointer border border-transparent hover:border-red-100">
                            <input type="checkbox" name="alco" class="w-4 h-4 rounded text-primary">
                            <span class="text-sm font-medium text-gray-700">Frequent Alcohol</span>
                        </label>
                        <label
                            class="flex items-center gap-3 p-3 rounded-xl hover:bg-red-50 transition-colors cursor-pointer border border-transparent hover:border-red-100">
                            <input type="checkbox" name="active" class="w-4 h-4 rounded text-primary">
                            <span class="text-sm font-medium text-gray-700">Physically Active</span>
                        </label>
                    </div>

                    <button type="submit" class="w-full btn btn-primary mt-4 py-4 shadow-lg group">
                        <span>Analyze Heart Health</span>
                        <svg class="group-hover:translate-x-1 transition-transform" xmlns="http://www.w3.org/2000/svg"
                            width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m9 18 6-6-6-6" />
                        </svg>
                    </button>
                </form>
            </div>
        </aside>

        <!-- Main Body: Results & ECG -->
        <div class="flex-grow">
            <!-- Initial State -->
            <div id="initial-state"
                class="card h-full min-h-[500px] flex flex-col items-center justify-center text-center p-12 bg-white border-dashed border-2 border-pink-100">
                <div class="mb-8 relative">
                    <div class="text-7xl opacity-20">ü´Ä</div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-32 h-32 border-2 border-pink-100 rounded-full animate-ping opacity-20"></div>
                    </div>
                </div>
                <h2 class="text-3xl font-black text-gray-500 mb-4 uppercase tracking-wider">Awaiting Clinical Data</h2>
                <p class="text-gray-400 max-w-sm leading-relaxed">
                    Fill in the electronic health record on the left to begin the AI-powered cardiovascular assessment.
                </p>
            </div>

            <!-- Processing State (ECG Animation) -->
            <div id="processing-state"
                class="hidden card h-full min-h-[500px] flex flex-col items-center justify-center bg-white">
                <div class="w-full max-w-md h-32 relative mb-8">
                    <svg class="w-full h-full" viewBox="0 0 100 20">
                        <path class="ecg-line fill-none stroke-red-500 stroke-2"
                            d="M0,10 L10,10 L13,2 L17,18 L20,10 L30,10 L33,2 L37,18 L40,10 L50,10 L53,2 L57,18 L60,10 L70,10 L73,2 L77,18 L80,10 L100,10" />
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Analyzing Bio-Markers...</h3>
                <p class="text-secondary animate-pulse italic">Connecting to HeartSense Neural Engine</p>
            </div>

            <!-- Result State -->
            <div id="prediction-result" class="hidden animate-fade-in space-y-8 h-full">
                <div class="card bg-white border-2 border-primary/10 overflow-hidden relative">
                    <!-- Heart Background Ornament -->
                    <div class="absolute -right-10 -bottom-10 text-[200px] opacity-[0.03] pointer-events-none">‚ù§Ô∏è</div>

                    <div
                        class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12 relative z-10">
                        <div>
                            <span id="risk-badge" class="mb-2"></span>
                            <h2 class="text-4xl font-black text-gray-900">Cardiovascular Profile</h2>
                            <p class="text-secondary text-sm">Assessed via Decision Tree Classifier</p>
                        </div>
                        <div id="result-heart" class="heartbeat text-6xl drop-shadow-md">‚ù§Ô∏è</div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12 relative z-10">
                        <div class="p-8 rounded-[2rem] bg-pink-50/50 border border-white shadow-inner text-center">
                            <span
                                class="text-[11px] font-bold text-gray-400 uppercase tracking-widest block mb-1">Model-Projected
                                Risk</span>
                            <div id="risk-label" class="text-5xl font-black">---</div>
                        </div>
                        <div class="p-8 rounded-[2rem] bg-pink-50/50 border border-white shadow-inner text-center">
                            <span
                                class="text-[11px] font-bold text-gray-400 uppercase tracking-widest block mb-1">Confidence
                                Score</span>
                            <div id="probability-text" class="text-5xl font-black text-primary">0%</div>
                        </div>
                    </div>

                    <div class="space-y-4 relative z-10">
                        <div
                            class="flex justify-between items-center text-[10px] font-black uppercase text-gray-600 tracking-tighter">
                            <span>Negative Outlook</span>
                            <span>Critical Concern</span>
                        </div>
                        <div class="gauge-container border-4 border-white shadow-sm h-6">
                            <div id="gauge-fill" class="gauge-fill shadow-lg"></div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card bg-slate-900 text-white border-none p-8 flex flex-col justify-between">
                        <div>
                            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                                <span class="bg-primary/20 p-2 rounded-lg">üõ°Ô∏è</span>
                                Medical Context
                            </h3>
                            <p class="text-slate-400 text-sm leading-relaxed mb-6">
                                This prediction is based on the complex interplay of your blood pressure and categorical
                                markers. Even a "Low" score suggests the value of preventive lifestyle management.
                            </p>
                        </div>
                        <a id="view-guidance" href="guidance.html" class="btn btn-primary w-fit">
                            Personalized Guidance
                        </a>
                    </div>

                    <div class="card glass border-pink-100 p-8 flex flex-col justify-center items-center text-center">
                        <div
                            class="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mb-4 text-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                            </svg>
                        </div>
                        <h4 class="font-bold mb-2">Research Protocol</h4>
                        <p class="text-xs text-secondary leading-normal">
                            Every result is validated against the UCI Heart Disease repository standard. This is not a
                            diagnosis but a research-grade projection.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer
        class="mt-20 py-10 border-t border-pink-50 text-center text-secondary text-[10px] uppercase tracking-widest font-bold">
        <p>&copy; 2026 HeartSense AI. Data is processed locally for privacy.</p>
    </footer>

    <script src="js/main.js"></script>
</body>

</html>